<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>鲜家网 | 购物中心 &gt; 购物车</title>
		<link rel="stylesheet" type="text/css" href="css/common.css" />
		<link rel="stylesheet" type="text/css" href="css/iconfont.css" />
		<link rel="stylesheet" type="text/css" href="css/login/header.css" />
		<link rel="stylesheet" type="text/css" href="css/index/bottom.css" />
		<link rel="stylesheet" type="text/css" href="css/shopCar/shopCar-middle.css" />
		<script type="text/javascript" src="js/vue.js">
			
		</script>
	</head>

	<body>
		<div id="root">
			
		
		<!--头部-->
		<div class="header clearbox">
			<div class="header-left fl">
				<img src="img/login/logo.png" />
			</div>
			<div class="header-middle fl">
				<a href="#">首页</a>
				<a href="#">鲜花</a>
				<a href="#">永生花</a>
				<a href="#">礼品</a>
				<a href="#">每周一花</a>
				<a href="#">花语</a>
				<a href="#">企业团购</a>
			</div>
			<div class="header-right fr">
				<div class="search">
					<span class="iconfont icon-sousuo"></span>
					<input type="search" placeholder="请输入关键词搜索" />
				</div>
				<div class="fl">
					<span class="iconfont icon-gouwuche"></span>
					<span class="iconfont icon-tubiaozhizuomoban"></span>
					<span>0</span>
				</div>
			</div>
		</div>

		<!--购物车商品-->
		<div class="shopcar-box">
			<p>购物车</p>
			
			<div class="nav-bar" >
				<div v-if="goodsdata.length ==0||!goodsdata"> 
					<img src="img/empty.jpg" >
				</div>
				<table border="0" cellspacing="0" cellpadding="0" v-else>
					<thead>
						<tr class="nav-goods">
							<th></th>
							<th style="width: 720px; text-align: left;">商品名称</th>
							<th>单价</th>
							<th>数量</th>
							<th>操作</th>
						</tr>
					</thead>
					<tbody>
						<!-- 1 -->
						<tr v-for="(item,index) in goodsdata">
							<td>
								<input type="checkbox" v-model="item.checked" @click="checkone(item)"/>
							</td>
							<td>
								<img :src="item.img" />
								<span>{{item.descp}}</span>
							</td>
							<td>&yen;{{item.price}}.00</td>
							<td>
								<span @click="subNum(index)">-</span>
								<input type="text" v-model="item.num" />
								<span @click="addNum(index)">+</span>
							</td>
							<td>删除</td>
						</tr>
						
						
					
					</tbody>

				</table>
			</div>
			<!-- all -->
			<div class="total clearbox" v-if="goodsdata.length>0">
				<div class="checkall fl">
					<input type="checkbox" v-model="checkAlls" @click="checkAll()"/>
					<span>全选</span>
					<span>已选商品<span>{{getNum}}</span>件</span>
				</div>
				<div class="totalpay fr">
					<p>总计</p>
					<p>&yen;<span>{{getAllPri}}.00</span></p>
					<p>结算</p>
				</div>
			</div>
		</div>

		<!--选择区-->
		<div class="select">
			<div class="select-top">
				<ul> 
					<li>购买该商品的还购买了</li>
					<li><a href="#">我的收藏</a></li>
				</ul>
			</div>
			<div class="select-bottom">
				<ul>
					<li>
						<a href="#"><img src="img/shopcar/oth1.jpg"/></a>
						<p>爱你久久·99枝红玫瑰纯</p>
						<p>&yen;558.00</p>
					</li>
					<li>
						<a href="#"><img src="img/shopcar/oth2.jpg"/></a>
						<p>想念你的味道·33枝红玫</p>
						<p>&yen;338.00</p>
					</li>
					<li>
						<a href="#"><img src="img/shopcar/oth3.jpg"/></a>
						<p>爱情密码·13枝红玫瑰</p>
						<p>&yen;178.00</p>
					</li>
					<li>
						<a href="#"><img src="img/shopcar/oth4.jpg"/></a>
						<p>一心一意·11枝红玫瑰</p>
						<p>&yen;158.00</p>
					</li>
					<li>
						<a href="#"><img src="img/shopcar/oth5.jpg"/></a>
						<p>今生与你相伴·9枝红玫</p>
						<p>&yen;138.00</p>
					</li>
					<li>
						<a href="#"><img src="img/shopcar/oth6.jpg"/></a>
						<p>永远守护你·19枝苏醒</p>
						<p>&yen;268.00</p>
					</li>
				</ul>
			</div>
		</div>

		<!--底部-->
		<div id="foot" class="clearbox">
			<div class="foot_left fl">
				<p>
					<a href="#">
						<span class="iconfont icon-weixin"></span>
					</a>
					<a href="#">
						<span class="iconfont icon-qq"></span>
					</a>
					<a href="#">
						<span class="iconfont icon-weibo"></span>
					</a>
				</p>
				<p>
					<span>Copyright © 2018 鲜家 All rights reserved.</span>
					<span>Powered by Bo Wen Technology Co., Ltd.</span>
					<span>工信部备：辽ICP备18014953号-2</span>
					<span>公安部备：21010202000602</span>
				</p>

			</div>
			<div class="foot_middle fl">
				<img src="img/index/foot/foot_er_wei_ma.png" />
				<p>微信关注鲜家，立享优惠</p>
			</div>
			<div class="foot_right fr">
				<div>
					<ul>
						<li>
							<a href="#">售后服务</a>
						</li>
						<li>
							<a href="#">同城鲜花</a>
						</li>
						<li>
							<a href="#">关于我们</a>
						</li>
					</ul>
				</div>
				<p>全国订购热线: <b>400-888-1571</b></p>
				<p>商务合作热线: <b>024-31128100</b></p>
				<p>在线客服</p>
			</div>
		</div>

		<!--固定区-->
		<div id="fixed">
			<ul>
				<li>
					<a href="#"><span class="iconfont icon-gouwuche"></span><span>0</span></a>
				</li>
				<li>
					<a href="#"><span class="iconfont icon-aixin"></a></li>
				<li><a href="#"><span class="iconfont icon-shizhong1"></span></a>
				</li>
				<li>
					<a href="#"><span class="iconfont icon-erweima"></span></a>
				</li>
				<li>
					<a href="#"><span class="iconfont icon-arrow-top"></span></a>
				</li>
			</ul>
		</div>
		</div>
		<script type="text/javascript">
			 new Vue({
				el:"#root",
				data:{
					goodsdata:[
						{img:"img/shopcar/car1.jpg",descp:"撩动我的心·33枝粉玫瑰纯美花束",price:353,num:1,checked:0},
						{img:"img/shopcar/car2.jpg",descp:"撩动我的心·33枝粉玫瑰纯美花束",price:345,num:1,checked:0},
						{img:"img/shopcar/car3.jpg",descp:"撩动我的心·33枝粉玫瑰纯美花束",price:389,num:1,checked:0}
					],
					checkAlls:0
				},
				methods:{
					addNum(idx){
						this.goodsdata[idx].num++;
					},
					subNum(idx){
						this.goodsdata[idx].num--;
						if(this.goodsdata[idx].num<1){
							this.goodsdata.splice(idx,1)
						}
					},
					checkAll(){
						this.checkAlls = !this.checkAlls;
						this.goodsdata.forEach(item=>{
							item.checked = this.checkAlls
						})
					},
					checkone(item){
						item.checked = !item.checked;
						this.checkAlls = this.goodsdata.every(item=>item.checked)
					}
				},
				computed:{
					getNum(){
						let num = 0;
						for(let i = 0;i<this.goodsdata.length;i++){
							if(this.goodsdata[i].checked){
								num += this.goodsdata[i].num;
							}
						}
						return num;
					},
					
					getAllPri(){
						let allprice = 0;
						for(let i = 0;i<this.goodsdata.length;i++){
							if(this.goodsdata[i].checked){
								allprice += this.goodsdata[i].num * this.goodsdata[i].price
							}
							
						}
						return allprice;
					}
				}
			})
		</script>
	</body>
</html>